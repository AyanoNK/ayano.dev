---
import { Icon } from "astro-icon/components";
import SectionTitle from "../components/SectionTitle.astro";

import { getLangFromUrl, useTranslations } from "../i18n/utils";
import Tech from "../components/Tech.astro";
import ExpertiseCardContent from "@/components/ExpertiseCardContent.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const cards = [
  {
    title: t("index.expertise.frontend.title"),
    description: t("index.expertise.frontend.description"),
    image: "cib:react",
  },
  {
    title: t("index.expertise.backend.title"),
    description: t("index.expertise.backend.description"),
    image: "eos-icons:system-image",
  },
  {
    title: t("index.expertise.database.title"),
    description: t("index.expertise.database.description"),
    image: "eos-icons:database",
  },
  {
    title: t("index.expertise.devops.title"),
    description: t("index.expertise.devops.description"),
    image: "cib:google-cloud",
  },
];
---

<div class="grid grid-cols-1 md:grid-cols-2">
  {
    cards.map((card, index) => {
      const row = Math.floor(index / 2);
      const col = index % 2;
      const isAltColor = (row + col) % 2 === 1;

      return (
        <div
          class:list={[
            "p-5 py-7 lg:p-8 lg:py-10 xl:p-10 xl:py-10 2xl:p-14 2xl:py-16",
            "border-border",
            col === 0 && "md:border-r-4",
            row === 0 && "border-b-4",
            isAltColor
              ? "bg-main text-main-foreground"
              : "bg-background text-foreground",
          ]}>
          <ExpertiseCardContent
            icon={card.image}
            title={card.title}
            description={card.description}
          />
        </div>
      );
    })
  }
</div>
